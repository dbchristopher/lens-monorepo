{"expireTime":9007200822964512000,"key":"gatsby-plugin-mdx-entire-payload-854dd7afd1b6077734d5aff578b1986d-","val":{"mdast":{"type":"root","children":[{"type":"import","value":"import DefaultLayout from \"/Users/danielchristopher/Looker/lens-monorepo/node_modules/gatsby-theme-docz/src/base/Layout.js\"","position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":124,"offset":125},"indent":[]}},{"type":"export","default":true,"value":"export default DefaultLayout","position":{"start":{"line":5,"column":1,"offset":127},"end":{"line":5,"column":29,"offset":155},"indent":[]}},{"type":"paragraph","children":[{"type":"image","title":null,"url":"https://i.imgur.com/7snWXD0.png","alt":"React Workspaces Playground Screenshots","position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":76,"offset":232},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":157},"end":{"line":7,"column":76,"offset":232},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Features","position":{"start":{"line":9,"column":4,"offset":237},"end":{"line":9,"column":12,"offset":245},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":234},"end":{"line":9,"column":12,"offset":245},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"‚öõÔ∏è Create React App 3 (React 16.8)","position":{"start":{"line":11,"column":3,"offset":249},"end":{"line":11,"column":37,"offset":283},"indent":[]}}],"position":{"start":{"line":11,"column":3,"offset":249},"end":{"line":11,"column":37,"offset":283},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":247},"end":{"line":11,"column":37,"offset":283},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"üìñ Storybook 5","position":{"start":{"line":12,"column":3,"offset":286},"end":{"line":12,"column":17,"offset":300},"indent":[]}}],"position":{"start":{"line":12,"column":3,"offset":286},"end":{"line":12,"column":17,"offset":300},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":284},"end":{"line":12,"column":17,"offset":300},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"üêà Yarn Workspaces","position":{"start":{"line":13,"column":3,"offset":303},"end":{"line":13,"column":21,"offset":321},"indent":[]}}],"position":{"start":{"line":13,"column":3,"offset":303},"end":{"line":13,"column":21,"offset":321},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":301},"end":{"line":13,"column":21,"offset":321},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"üêâ Lerna 3","position":{"start":{"line":14,"column":3,"offset":324},"end":{"line":14,"column":13,"offset":334},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":324},"end":{"line":14,"column":13,"offset":334},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":322},"end":{"line":14,"column":13,"offset":334},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"‚ú® Host Multiple CRA Apps, Component Libraries & Storybooks in one Monorepo","position":{"start":{"line":15,"column":3,"offset":337},"end":{"line":15,"column":77,"offset":411},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":337},"end":{"line":15,"column":77,"offset":411},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":335},"end":{"line":15,"column":77,"offset":411},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"üî• Hot Reload all Apps, Components & Storybooks","position":{"start":{"line":16,"column":3,"offset":414},"end":{"line":16,"column":50,"offset":461},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":414},"end":{"line":16,"column":50,"offset":461},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":412},"end":{"line":16,"column":50,"offset":461},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"üë®‚Äçüî¨ Test all workspaces with Eslint & Jest using one command","position":{"start":{"line":17,"column":3,"offset":464},"end":{"line":17,"column":65,"offset":526},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":464},"end":{"line":17,"column":65,"offset":526},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":462},"end":{"line":17,"column":65,"offset":526},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":":octocat: Deploy your apps to Github Pages using one command","position":{"start":{"line":18,"column":3,"offset":529},"end":{"line":18,"column":63,"offset":589},"indent":[]}}],"position":{"start":{"line":18,"column":3,"offset":529},"end":{"line":18,"column":63,"offset":589},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":527},"end":{"line":18,"column":63,"offset":589},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":247},"end":{"line":18,"column":63,"offset":589},"indent":[1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Contents","position":{"start":{"line":20,"column":4,"offset":594},"end":{"line":20,"column":12,"offset":602},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":591},"end":{"line":20,"column":12,"offset":602},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#features","children":[{"type":"text","value":"Features","position":{"start":{"line":22,"column":4,"offset":607},"end":{"line":22,"column":12,"offset":615},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":606},"end":{"line":22,"column":24,"offset":627},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":606},"end":{"line":22,"column":24,"offset":627},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":604},"end":{"line":22,"column":24,"offset":627},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#contents","children":[{"type":"text","value":"Contents","position":{"start":{"line":23,"column":4,"offset":631},"end":{"line":23,"column":12,"offset":639},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":630},"end":{"line":23,"column":24,"offset":651},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":630},"end":{"line":23,"column":24,"offset":651},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":628},"end":{"line":23,"column":24,"offset":651},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#setup","children":[{"type":"text","value":"Setup","position":{"start":{"line":24,"column":4,"offset":655},"end":{"line":24,"column":9,"offset":660},"indent":[]}}],"position":{"start":{"line":24,"column":3,"offset":654},"end":{"line":24,"column":18,"offset":669},"indent":[]}}],"position":{"start":{"line":24,"column":3,"offset":654},"end":{"line":24,"column":18,"offset":669},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#pre-requisites","children":[{"type":"text","value":"Pre-Requisites","position":{"start":{"line":25,"column":6,"offset":675},"end":{"line":25,"column":20,"offset":689},"indent":[]}}],"position":{"start":{"line":25,"column":5,"offset":674},"end":{"line":25,"column":38,"offset":707},"indent":[]}}],"position":{"start":{"line":25,"column":5,"offset":674},"end":{"line":25,"column":38,"offset":707},"indent":[]}}],"position":{"start":{"line":25,"column":3,"offset":672},"end":{"line":25,"column":38,"offset":707},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#installation","children":[{"type":"text","value":"Installation","position":{"start":{"line":26,"column":6,"offset":713},"end":{"line":26,"column":18,"offset":725},"indent":[]}}],"position":{"start":{"line":26,"column":5,"offset":712},"end":{"line":26,"column":34,"offset":741},"indent":[]}}],"position":{"start":{"line":26,"column":5,"offset":712},"end":{"line":26,"column":34,"offset":741},"indent":[]}}],"position":{"start":{"line":26,"column":3,"offset":710},"end":{"line":26,"column":34,"offset":741},"indent":[]}}],"position":{"start":{"line":25,"column":3,"offset":672},"end":{"line":26,"column":34,"offset":741},"indent":[3]}}],"position":{"start":{"line":24,"column":1,"offset":652},"end":{"line":26,"column":34,"offset":741},"indent":[1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#usage","children":[{"type":"text","value":"Usage","position":{"start":{"line":27,"column":4,"offset":745},"end":{"line":27,"column":9,"offset":750},"indent":[]}}],"position":{"start":{"line":27,"column":3,"offset":744},"end":{"line":27,"column":18,"offset":759},"indent":[]}}],"position":{"start":{"line":27,"column":3,"offset":744},"end":{"line":27,"column":18,"offset":759},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#starting-the-react-app","children":[{"type":"text","value":"Starting The React App","position":{"start":{"line":28,"column":6,"offset":765},"end":{"line":28,"column":28,"offset":787},"indent":[]}}],"position":{"start":{"line":28,"column":5,"offset":764},"end":{"line":28,"column":54,"offset":813},"indent":[]}}],"position":{"start":{"line":28,"column":5,"offset":764},"end":{"line":28,"column":54,"offset":813},"indent":[]}}],"position":{"start":{"line":28,"column":3,"offset":762},"end":{"line":28,"column":54,"offset":813},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#starting-the-storybook","children":[{"type":"text","value":"Starting The Storybook","position":{"start":{"line":29,"column":6,"offset":819},"end":{"line":29,"column":28,"offset":841},"indent":[]}}],"position":{"start":{"line":29,"column":5,"offset":818},"end":{"line":29,"column":54,"offset":867},"indent":[]}}],"position":{"start":{"line":29,"column":5,"offset":818},"end":{"line":29,"column":54,"offset":867},"indent":[]}}],"position":{"start":{"line":29,"column":3,"offset":816},"end":{"line":29,"column":54,"offset":867},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#linting--testing","children":[{"type":"text","value":"Linting & Testing","position":{"start":{"line":30,"column":6,"offset":873},"end":{"line":30,"column":23,"offset":890},"indent":[]}}],"position":{"start":{"line":30,"column":5,"offset":872},"end":{"line":30,"column":43,"offset":910},"indent":[]}}],"position":{"start":{"line":30,"column":5,"offset":872},"end":{"line":30,"column":43,"offset":910},"indent":[]}}],"position":{"start":{"line":30,"column":3,"offset":870},"end":{"line":30,"column":43,"offset":910},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#deploying-to-github-pages","children":[{"type":"text","value":"Deploying to GitHub Pages","position":{"start":{"line":31,"column":6,"offset":916},"end":{"line":31,"column":31,"offset":941},"indent":[]}}],"position":{"start":{"line":31,"column":5,"offset":915},"end":{"line":31,"column":60,"offset":970},"indent":[]}}],"position":{"start":{"line":31,"column":5,"offset":915},"end":{"line":31,"column":60,"offset":970},"indent":[]}}],"position":{"start":{"line":31,"column":3,"offset":913},"end":{"line":31,"column":60,"offset":970},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#creating-a-new-cra-app","children":[{"type":"text","value":"Creating a New CRA App","position":{"start":{"line":32,"column":6,"offset":976},"end":{"line":32,"column":28,"offset":998},"indent":[]}}],"position":{"start":{"line":32,"column":5,"offset":975},"end":{"line":32,"column":54,"offset":1024},"indent":[]}}],"position":{"start":{"line":32,"column":5,"offset":975},"end":{"line":32,"column":54,"offset":1024},"indent":[]}}],"position":{"start":{"line":32,"column":3,"offset":973},"end":{"line":32,"column":54,"offset":1024},"indent":[]}}],"position":{"start":{"line":28,"column":3,"offset":762},"end":{"line":32,"column":54,"offset":1024},"indent":[3,3,3,3]}}],"position":{"start":{"line":27,"column":1,"offset":742},"end":{"line":32,"column":54,"offset":1024},"indent":[1,1,1,1,1]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"#how-does-it-work","children":[{"type":"text","value":"How Does It Work?","position":{"start":{"line":33,"column":4,"offset":1028},"end":{"line":33,"column":21,"offset":1045},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":1027},"end":{"line":33,"column":41,"offset":1065},"indent":[]}}],"position":{"start":{"line":33,"column":3,"offset":1027},"end":{"line":33,"column":41,"offset":1065},"indent":[]}}],"position":{"start":{"line":33,"column":1,"offset":1025},"end":{"line":33,"column":41,"offset":1065},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":604},"end":{"line":33,"column":41,"offset":1065},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Setup","position":{"start":{"line":35,"column":4,"offset":1070},"end":{"line":35,"column":9,"offset":1075},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1067},"end":{"line":35,"column":9,"offset":1075},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Pre-Requisites","position":{"start":{"line":37,"column":5,"offset":1081},"end":{"line":37,"column":19,"offset":1095},"indent":[]}}],"position":{"start":{"line":37,"column":1,"offset":1077},"end":{"line":37,"column":19,"offset":1095},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":false,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Yarn 1.13.0","position":{"start":{"line":39,"column":3,"offset":1099},"end":{"line":39,"column":14,"offset":1110},"indent":[]}}],"position":{"start":{"line":39,"column":3,"offset":1099},"end":{"line":39,"column":14,"offset":1110},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1097},"end":{"line":39,"column":14,"offset":1110},"indent":[]}},{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Node 11.14.0","position":{"start":{"line":40,"column":3,"offset":1113},"end":{"line":40,"column":15,"offset":1125},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":1113},"end":{"line":40,"column":15,"offset":1125},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1111},"end":{"line":40,"column":15,"offset":1125},"indent":[]}}],"position":{"start":{"line":39,"column":1,"offset":1097},"end":{"line":40,"column":15,"offset":1125},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Installation","position":{"start":{"line":42,"column":5,"offset":1131},"end":{"line":42,"column":17,"offset":1143},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":1127},"end":{"line":42,"column":17,"offset":1143},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"git clone git@github.com:react-workspaces/cra-workspaces-playground\ncd cra-workspaces-playground\nyarn","position":{"start":{"line":44,"column":1,"offset":1145},"end":{"line":48,"column":4,"offset":1258},"indent":[1,1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Usage","position":{"start":{"line":50,"column":4,"offset":1263},"end":{"line":50,"column":9,"offset":1268},"indent":[]}}],"position":{"start":{"line":50,"column":1,"offset":1260},"end":{"line":50,"column":9,"offset":1268},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Starting The React App","position":{"start":{"line":52,"column":5,"offset":1274},"end":{"line":52,"column":27,"offset":1296},"indent":[]}}],"position":{"start":{"line":52,"column":1,"offset":1270},"end":{"line":52,"column":27,"offset":1296},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"cd packages/apps/app-one\nyarn start","position":{"start":{"line":54,"column":1,"offset":1298},"end":{"line":57,"column":4,"offset":1345},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Starting The Storybook","position":{"start":{"line":59,"column":5,"offset":1351},"end":{"line":59,"column":27,"offset":1373},"indent":[]}}],"position":{"start":{"line":59,"column":1,"offset":1347},"end":{"line":59,"column":27,"offset":1373},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"cd packages/storybook\nyarn storybook","position":{"start":{"line":61,"column":1,"offset":1375},"end":{"line":64,"column":4,"offset":1423},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Linting & Testing","position":{"start":{"line":66,"column":5,"offset":1429},"end":{"line":66,"column":22,"offset":1446},"indent":[]}}],"position":{"start":{"line":66,"column":1,"offset":1425},"end":{"line":66,"column":22,"offset":1446},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"cd <workspace-root>\nyarn test","position":{"start":{"line":68,"column":1,"offset":1448},"end":{"line":71,"column":4,"offset":1489},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Deploying to GitHub Pages","position":{"start":{"line":73,"column":5,"offset":1495},"end":{"line":73,"column":30,"offset":1520},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":1491},"end":{"line":73,"column":30,"offset":1520},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Update the ","position":{"start":{"line":75,"column":1,"offset":1522},"end":{"line":75,"column":12,"offset":1533},"indent":[]}},{"type":"inlineCode","value":"homepage","position":{"start":{"line":75,"column":12,"offset":1533},"end":{"line":75,"column":22,"offset":1543},"indent":[]}},{"type":"text","value":" URL in ","position":{"start":{"line":75,"column":22,"offset":1543},"end":{"line":75,"column":30,"offset":1551},"indent":[]}},{"type":"inlineCode","value":"app-one/package.json","position":{"start":{"line":75,"column":30,"offset":1551},"end":{"line":75,"column":52,"offset":1573},"indent":[]}},{"type":"text","value":" to reflect your GitHub Pages URL.","position":{"start":{"line":75,"column":52,"offset":1573},"end":{"line":75,"column":86,"offset":1607},"indent":[]}}],"position":{"start":{"line":75,"column":1,"offset":1522},"end":{"line":75,"column":86,"offset":1607},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"name\": \"@project/app-one\",\n  \"private\": true,\n  \"homepage\": \"https://react-workspaces.github.io/react-workspaces-playground\",\n  \"scripts\": {\n    \"deploy\": \"gh-pages -d build\"\n  }\n}","position":{"start":{"line":77,"column":1,"offset":1609},"end":{"line":86,"column":4,"offset":1806},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Run the deploy script.","position":{"start":{"line":88,"column":1,"offset":1808},"end":{"line":88,"column":23,"offset":1830},"indent":[]}}],"position":{"start":{"line":88,"column":1,"offset":1808},"end":{"line":88,"column":23,"offset":1830},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"cd <workspace-root>\nyarn deploy","position":{"start":{"line":90,"column":1,"offset":1832},"end":{"line":93,"column":4,"offset":1875},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Creating a New CRA App","position":{"start":{"line":95,"column":5,"offset":1881},"end":{"line":95,"column":27,"offset":1903},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":1877},"end":{"line":95,"column":27,"offset":1903},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use Create React App's ","position":{"start":{"line":97,"column":1,"offset":1905},"end":{"line":97,"column":24,"offset":1928},"indent":[]}},{"type":"inlineCode","value":"--scripts-version","position":{"start":{"line":97,"column":24,"offset":1928},"end":{"line":97,"column":43,"offset":1947},"indent":[]}},{"type":"text","value":" to create a new React App with Yarn Workspaces support.","position":{"start":{"line":97,"column":43,"offset":1947},"end":{"line":97,"column":99,"offset":2003},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":1905},"end":{"line":97,"column":99,"offset":2003},"indent":[]}},{"type":"code","lang":"bash","meta":null,"value":"create-react-app --scripts-version @react-workspaces/react-scripts my-app","position":{"start":{"line":99,"column":1,"offset":2005},"end":{"line":101,"column":4,"offset":2090},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"How Does It Work?","position":{"start":{"line":103,"column":4,"offset":2095},"end":{"line":103,"column":21,"offset":2112},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":2092},"end":{"line":103,"column":21,"offset":2112},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"React Workspaces Playground uses a custom version of ","position":{"start":{"line":105,"column":1,"offset":2114},"end":{"line":105,"column":54,"offset":2167},"indent":[]}},{"type":"inlineCode","value":"react-scripts","position":{"start":{"line":105,"column":54,"offset":2167},"end":{"line":105,"column":69,"offset":2182},"indent":[]}},{"type":"text","value":" under the hood. The custom ","position":{"start":{"line":105,"column":69,"offset":2182},"end":{"line":105,"column":97,"offset":2210},"indent":[]}},{"type":"inlineCode","value":"react-scripts","position":{"start":{"line":105,"column":97,"offset":2210},"end":{"line":105,"column":112,"offset":2225},"indent":[]}},{"type":"text","value":" is an NPM package to use in place of the ","position":{"start":{"line":105,"column":112,"offset":2225},"end":{"line":105,"column":154,"offset":2267},"indent":[]}},{"type":"inlineCode","value":"react-scripts","position":{"start":{"line":105,"column":154,"offset":2267},"end":{"line":105,"column":169,"offset":2282},"indent":[]}},{"type":"text","value":" dependency that usually ships with Create React App. See: (","position":{"start":{"line":105,"column":169,"offset":2282},"end":{"line":105,"column":229,"offset":2342},"indent":[]}},{"type":"link","title":null,"url":"https://www.npmjs.com/@react-workspaces/react-scripts","children":[{"type":"text","value":"@react-workspaces/react-scripts","position":{"start":{"line":105,"column":230,"offset":2343},"end":{"line":105,"column":261,"offset":2374},"indent":[]}}],"position":{"start":{"line":105,"column":229,"offset":2342},"end":{"line":105,"column":317,"offset":2430},"indent":[]}},{"type":"text","value":") on NPM.","position":{"start":{"line":105,"column":317,"offset":2430},"end":{"line":105,"column":326,"offset":2439},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":2114},"end":{"line":105,"column":326,"offset":2439},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Support for Yarn Workspaces was added by:","position":{"start":{"line":107,"column":1,"offset":2441},"end":{"line":107,"column":42,"offset":2482},"indent":[]}}],"position":{"start":{"line":107,"column":1,"offset":2441},"end":{"line":107,"column":42,"offset":2482},"indent":[]}},{"type":"list","ordered":true,"start":1,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Adding ","position":{"start":{"line":109,"column":4,"offset":2487},"end":{"line":109,"column":11,"offset":2494},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/react-workspaces/create-react-app/blob/master/packages/react-scripts/config/yarn-workspaces.js","children":[{"type":"text","value":"yarn-workspaces.js","position":{"start":{"line":109,"column":12,"offset":2495},"end":{"line":109,"column":30,"offset":2513},"indent":[]}}],"position":{"start":{"line":109,"column":11,"offset":2494},"end":{"line":109,"column":146,"offset":2629},"indent":[]}},{"type":"text","value":" file to resolve workspaces modules.","position":{"start":{"line":109,"column":146,"offset":2629},"end":{"line":109,"column":182,"offset":2665},"indent":[]}}],"position":{"start":{"line":109,"column":4,"offset":2487},"end":{"line":109,"column":182,"offset":2665},"indent":[]}}],"position":{"start":{"line":109,"column":1,"offset":2484},"end":{"line":110,"column":1,"offset":2666},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Updating the Webpack config:","position":{"start":{"line":111,"column":4,"offset":2670},"end":{"line":111,"column":32,"offset":2698},"indent":[]}}],"position":{"start":{"line":111,"column":4,"offset":2670},"end":{"line":111,"column":32,"offset":2698},"indent":[]}},{"type":"list","ordered":false,"start":null,"spread":true,"children":[{"type":"listItem","spread":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":113,"column":6,"offset":2705},"end":{"line":113,"column":10,"offset":2709},"indent":[]}},{"type":"inlineCode","value":"main:src","position":{"start":{"line":113,"column":10,"offset":2709},"end":{"line":113,"column":20,"offset":2719},"indent":[]}},{"type":"text","value":" in ","position":{"start":{"line":113,"column":20,"offset":2719},"end":{"line":113,"column":24,"offset":2723},"indent":[]}},{"type":"inlineCode","value":"package.json","position":{"start":{"line":113,"column":24,"offset":2723},"end":{"line":113,"column":38,"offset":2737},"indent":[]}},{"type":"text","value":" for loading development source code.","position":{"start":{"line":113,"column":38,"offset":2737},"end":{"line":113,"column":75,"offset":2774},"indent":[]}}],"position":{"start":{"line":113,"column":6,"offset":2705},"end":{"line":113,"column":75,"offset":2774},"indent":[]}}],"position":{"start":{"line":113,"column":4,"offset":2703},"end":{"line":114,"column":1,"offset":2775},"indent":[1]}},{"type":"listItem","spread":true,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":115,"column":6,"offset":2781},"end":{"line":115,"column":10,"offset":2785},"indent":[]}},{"type":"inlineCode","value":"production","position":{"start":{"line":115,"column":10,"offset":2785},"end":{"line":115,"column":22,"offset":2797},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":115,"column":22,"offset":2797},"end":{"line":115,"column":26,"offset":2801},"indent":[]}},{"type":"inlineCode","value":"development","position":{"start":{"line":115,"column":26,"offset":2801},"end":{"line":115,"column":39,"offset":2814},"indent":[]}},{"type":"text","value":" settings based on your ","position":{"start":{"line":115,"column":39,"offset":2814},"end":{"line":115,"column":63,"offset":2838},"indent":[]}},{"type":"inlineCode","value":"yarn workspaces","position":{"start":{"line":115,"column":63,"offset":2838},"end":{"line":115,"column":80,"offset":2855},"indent":[]}},{"type":"text","value":" settings in your ","position":{"start":{"line":115,"column":80,"offset":2855},"end":{"line":115,"column":98,"offset":2873},"indent":[]}},{"type":"inlineCode","value":"<workspaces-root>/package.json","position":{"start":{"line":115,"column":98,"offset":2873},"end":{"line":115,"column":130,"offset":2905},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":115,"column":130,"offset":2905},"end":{"line":115,"column":131,"offset":2906},"indent":[]}}],"position":{"start":{"line":115,"column":6,"offset":2781},"end":{"line":115,"column":131,"offset":2906},"indent":[]}},{"type":"code","lang":"json","meta":null,"value":"{\n  \"workspaces\": {\n    \"packages\": [\n      \"packages/apps/*\",\n      \"packages/components\",\n      \"packages/storybook\"\n    ],\n    \"production\": true,\n    \"development\": true,\n    \"package-entry\": \"main:src\"\n  }\n}","position":{"start":{"line":117,"column":6,"offset":2913},"end":{"line":130,"column":9,"offset":3202},"indent":[6,6,6,6,6,6,6,6,6,6,6,6,6]}}],"position":{"start":{"line":115,"column":4,"offset":2779},"end":{"line":130,"column":9,"offset":3202},"indent":[1,4,4,4,4,4,4,4,4,4,4,4,4,4,4]}}],"position":{"start":{"line":113,"column":4,"offset":2703},"end":{"line":130,"column":9,"offset":3202},"indent":[1,4,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4]}}],"position":{"start":{"line":111,"column":1,"offset":2667},"end":{"line":130,"column":9,"offset":3202},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}],"position":{"start":{"line":109,"column":1,"offset":2484},"end":{"line":130,"column":9,"offset":3202},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Minimal updates to the Webpack config were required.","position":{"start":{"line":132,"column":1,"offset":3204},"end":{"line":132,"column":53,"offset":3256},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":3204},"end":{"line":132,"column":53,"offset":3256},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Diff: ","position":{"start":{"line":134,"column":1,"offset":3258},"end":{"line":134,"column":7,"offset":3264},"indent":[]}},{"type":"inlineCode","value":"webpack.config.js","position":{"start":{"line":134,"column":7,"offset":3264},"end":{"line":134,"column":26,"offset":3283},"indent":[]}}],"position":{"start":{"line":134,"column":1,"offset":3258},"end":{"line":134,"column":26,"offset":3283},"indent":[]}},{"type":"code","lang":"diff","meta":null,"value":"--- a/./facebook/react-scripts/config/webpack.config.js\n+++ b/react-workspaces/react-scripts/config/webpack.config.js\n@@ -9,7 +9,6 @@\n'use strict';\n\nconst fs = require('fs');\nconst isWsl = require('is-wsl');\nconst path = require('path');\nconst webpack = require('webpack');\nconst resolve = require('resolve');\n@@ -28,15 +27,14 @@ const WatchMissingNodeModulesPlugin = require('react-dev-utils/WatchMissingNodeM\nconst ModuleScopePlugin = require('react-dev-utils/ModuleScopePlugin');\nconst getCSSModuleLocalIdent = require('react-dev-utils/getCSSModuleLocalIdent');\nconst paths = require('./paths');\nconst modules = require('./modules');\n+const workspaces = require('./workspaces');\nconst getClientEnvironment = require('./env');\nconst ModuleNotFoundPlugin = require('react-dev-utils/ModuleNotFoundPlugin');\nconst ForkTsCheckerWebpackPlugin = require('react-dev-utils/ForkTsCheckerWebpackPlugin');\nconst typescriptFormatter = require('react-dev-utils/typescriptFormatter');\n// @remove-on-eject-begin\nconst getCacheIdentifier = require('react-dev-utils/getCacheIdentifier');\n// @remove-on-eject-end\n\n// Source maps are resource heavy and can cause out of memory issue for large source files.\nconst shouldUseSourceMap = process.env.GENERATE_SOURCEMAP !== 'false';\n@@ -53,12 +51,22 @@ const cssModuleRegex = /\\.module\\.css$/;\nconst sassRegex = /\\.(scss|sass)$/;\nconst sassModuleRegex = /\\.module\\.(scss|sass)$/;\n\n+const workspacesConfig = workspaces.init(paths);\n+\n// This is the production and development configuration.\n// It is focused on developer experience, fast rebuilds, and a minimal bundle.\nmodule.exports = function(webpackEnv) {\n  const isEnvDevelopment = webpackEnv === 'development';\n  const isEnvProduction = webpackEnv === 'production';\n\n+  const workspacesMainFields = [workspacesConfig.packageEntry, 'main'];\n+  const mainFields =\n+    isEnvDevelopment && workspacesConfig.development\n+      ? workspacesMainFields\n+      : isEnvProduction && workspacesConfig.production\n+        ? workspacesMainFields\n+        : undefined;\n+\n  // Webpack uses `publicPath` to determine where the app is being served from.\n  // It requires a trailing slash, or the file assets will get an incorrect path.\n  // In development, we always serve from the root. This makes config easier.\n@@ -279,6 +282,7 @@ module.exports = function(webpackEnv) {\n      extensions: paths.moduleFileExtensions\n        .map(ext => `.${ext}`)\n        .filter(ext => useTypeScript || !ext.includes('ts')),\n+      mainFields,\n      alias: {\n        // Support React Native Web\n        // https://www.smashingmagazine.com/2016/08/a-glimpse-into-the-future-with-react-native-for-web/\n@@ -330,7 +335,11 @@ module.exports = function(webpackEnv) {\n              loader: require.resolve('eslint-loader'),\n            },\n          ],\n-          include: paths.appSrc,\n+          include: isEnvDevelopment && workspacesConfig.development\n+          ? [paths.appSrc, workspacesConfig.paths]\n+          : isEnvProduction && workspacesConfig.production\n+            ? [paths.appSrc, workspacesConfig.paths]\n+            : paths.appSrc,\n        },\n        {\n          // \"oneOf\" will traverse all following loaders until one will\n@@ -352,7 +361,12 @@ module.exports = function(webpackEnv) {\n            // The preset includes JSX, Flow, TypeScript, and some ESnext features.\n            {\n              test: /\\.(js|mjs|jsx|ts|tsx)$/,\n-              include: paths.appSrc,\n+              include:\n+                isEnvDevelopment && workspacesConfig.development\n+                  ? [paths.appSrc, workspacesConfig.paths]\n+                  : isEnvProduction && workspacesConfig.production\n+                    ? [paths.appSrc, workspacesConfig.paths]\n+                    : paths.appSrc,\n              loader: require.resolve('babel-loader'),\n              options: {\n                customize: require.resolve(","position":{"start":{"line":136,"column":1,"offset":3285},"end":{"line":221,"column":4,"offset":7170},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"export","value":"export const _frontmatter = {}","position":{"start":{"line":224,"column":1,"offset":7173},"end":{"line":224,"column":31,"offset":7203},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":224,"column":31,"offset":7203}}},"scopeImports":[],"scopeIdentifiers":[],"rawMDXOutput":"/* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\nimport DefaultLayout from \"/Users/danielchristopher/Looker/lens-monorepo/node_modules/gatsby-theme-docz/src/base/Layout.js\"\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\")\n  return <div {...props}/>\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p><img alt=\"React Workspaces Playground Screenshots\" src=\"https://i.imgur.com/7snWXD0.png\" /></p>\n    <h2 {...{\n      \"id\": \"features\"\n    }}>{`Features`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`‚öõÔ∏è Create React App 3 (React 16.8)`}</li>\n      <li parentName=\"ul\">{`üìñ Storybook 5`}</li>\n      <li parentName=\"ul\">{`üêà Yarn Workspaces`}</li>\n      <li parentName=\"ul\">{`üêâ Lerna 3`}</li>\n      <li parentName=\"ul\">{`‚ú® Host Multiple CRA Apps, Component Libraries & Storybooks in one Monorepo`}</li>\n      <li parentName=\"ul\">{`üî• Hot Reload all Apps, Components & Storybooks`}</li>\n      <li parentName=\"ul\">{`üë®‚Äçüî¨ Test all workspaces with Eslint & Jest using one command`}</li>\n      <li parentName=\"ul\">{`:octocat: Deploy your apps to Github Pages using one command`}</li>\n    </ul>\n    <h2 {...{\n      \"id\": \"contents\"\n    }}>{`Contents`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#features\"\n        }}>{`Features`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#contents\"\n        }}>{`Contents`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#setup\"\n        }}>{`Setup`}</a><ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#pre-requisites\"\n            }}>{`Pre-Requisites`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#installation\"\n            }}>{`Installation`}</a></li>\n        </ul></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#usage\"\n        }}>{`Usage`}</a><ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#starting-the-react-app\"\n            }}>{`Starting The React App`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#starting-the-storybook\"\n            }}>{`Starting The Storybook`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#linting--testing\"\n            }}>{`Linting & Testing`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#deploying-to-github-pages\"\n            }}>{`Deploying to GitHub Pages`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#creating-a-new-cra-app\"\n            }}>{`Creating a New CRA App`}</a></li>\n        </ul></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#how-does-it-work\"\n        }}>{`How Does It Work?`}</a></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"setup\"\n    }}>{`Setup`}</h2>\n    <h3 {...{\n      \"id\": \"pre-requisites\"\n    }}>{`Pre-Requisites`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Yarn 1.13.0`}</li>\n      <li parentName=\"ul\">{`Node 11.14.0`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"installation\"\n    }}>{`Installation`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`git clone git@github.com:react-workspaces/cra-workspaces-playground\ncd cra-workspaces-playground\nyarn\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"usage\"\n    }}>{`Usage`}</h2>\n    <h3 {...{\n      \"id\": \"starting-the-react-app\"\n    }}>{`Starting The React App`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`cd packages/apps/app-one\nyarn start\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"starting-the-storybook\"\n    }}>{`Starting The Storybook`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`cd packages/storybook\nyarn storybook\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"linting--testing\"\n    }}>{`Linting & Testing`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`cd <workspace-root>\nyarn test\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"deploying-to-github-pages\"\n    }}>{`Deploying to GitHub Pages`}</h3>\n    <p>{`Update the `}<inlineCode parentName=\"p\">{`homepage`}</inlineCode>{` URL in `}<inlineCode parentName=\"p\">{`app-one/package.json`}</inlineCode>{` to reflect your GitHub Pages URL.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"name\": \"@project/app-one\",\n  \"private\": true,\n  \"homepage\": \"https://react-workspaces.github.io/react-workspaces-playground\",\n  \"scripts\": {\n    \"deploy\": \"gh-pages -d build\"\n  }\n}\n`}</code></pre>\n    <p>{`Run the deploy script.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`cd <workspace-root>\nyarn deploy\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"creating-a-new-cra-app\"\n    }}>{`Creating a New CRA App`}</h3>\n    <p>{`Use Create React App's `}<inlineCode parentName=\"p\">{`--scripts-version`}</inlineCode>{` to create a new React App with Yarn Workspaces support.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`create-react-app --scripts-version @react-workspaces/react-scripts my-app\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"how-does-it-work\"\n    }}>{`How Does It Work?`}</h2>\n    <p>{`React Workspaces Playground uses a custom version of `}<inlineCode parentName=\"p\">{`react-scripts`}</inlineCode>{` under the hood. The custom `}<inlineCode parentName=\"p\">{`react-scripts`}</inlineCode>{` is an NPM package to use in place of the `}<inlineCode parentName=\"p\">{`react-scripts`}</inlineCode>{` dependency that usually ships with Create React App. See: (`}<a parentName=\"p\" {...{\n        \"href\": \"https://www.npmjs.com/@react-workspaces/react-scripts\"\n      }}>{`@react-workspaces/react-scripts`}</a>{`) on NPM.`}</p>\n    <p>{`Support for Yarn Workspaces was added by:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Adding `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/react-workspaces/create-react-app/blob/master/packages/react-scripts/config/yarn-workspaces.js\"\n          }}>{`yarn-workspaces.js`}</a>{` file to resolve workspaces modules.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Updating the Webpack config:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Use `}<inlineCode parentName=\"p\">{`main:src`}</inlineCode>{` in `}<inlineCode parentName=\"p\">{`package.json`}</inlineCode>{` for loading development source code.`}</p>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Use `}<inlineCode parentName=\"p\">{`production`}</inlineCode>{` or `}<inlineCode parentName=\"p\">{`development`}</inlineCode>{` settings based on your `}<inlineCode parentName=\"p\">{`yarn workspaces`}</inlineCode>{` settings in your `}<inlineCode parentName=\"p\">{`<workspaces-root>/package.json`}</inlineCode>{`:`}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-json\"\n              }}>{`{\n  \"workspaces\": {\n    \"packages\": [\n      \"packages/apps/*\",\n      \"packages/components\",\n      \"packages/storybook\"\n    ],\n    \"production\": true,\n    \"development\": true,\n    \"package-entry\": \"main:src\"\n  }\n}\n`}</code></pre>\n          </li>\n        </ul>\n      </li>\n    </ol>\n    <p>{`Minimal updates to the Webpack config were required.`}</p>\n    <p>{`Diff: `}<inlineCode parentName=\"p\">{`webpack.config.js`}</inlineCode></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-diff\"\n      }}>{`--- a/./facebook/react-scripts/config/webpack.config.js\n+++ b/react-workspaces/react-scripts/config/webpack.config.js\n@@ -9,7 +9,6 @@\n'use strict';\n\nconst fs = require('fs');\nconst isWsl = require('is-wsl');\nconst path = require('path');\nconst webpack = require('webpack');\nconst resolve = require('resolve');\n@@ -28,15 +27,14 @@ const WatchMissingNodeModulesPlugin = require('react-dev-utils/WatchMissingNodeM\nconst ModuleScopePlugin = require('react-dev-utils/ModuleScopePlugin');\nconst getCSSModuleLocalIdent = require('react-dev-utils/getCSSModuleLocalIdent');\nconst paths = require('./paths');\nconst modules = require('./modules');\n+const workspaces = require('./workspaces');\nconst getClientEnvironment = require('./env');\nconst ModuleNotFoundPlugin = require('react-dev-utils/ModuleNotFoundPlugin');\nconst ForkTsCheckerWebpackPlugin = require('react-dev-utils/ForkTsCheckerWebpackPlugin');\nconst typescriptFormatter = require('react-dev-utils/typescriptFormatter');\n// @remove-on-eject-begin\nconst getCacheIdentifier = require('react-dev-utils/getCacheIdentifier');\n// @remove-on-eject-end\n\n// Source maps are resource heavy and can cause out of memory issue for large source files.\nconst shouldUseSourceMap = process.env.GENERATE_SOURCEMAP !== 'false';\n@@ -53,12 +51,22 @@ const cssModuleRegex = /\\\\.module\\\\.css$/;\nconst sassRegex = /\\\\.(scss|sass)$/;\nconst sassModuleRegex = /\\\\.module\\\\.(scss|sass)$/;\n\n+const workspacesConfig = workspaces.init(paths);\n+\n// This is the production and development configuration.\n// It is focused on developer experience, fast rebuilds, and a minimal bundle.\nmodule.exports = function(webpackEnv) {\n  const isEnvDevelopment = webpackEnv === 'development';\n  const isEnvProduction = webpackEnv === 'production';\n\n+  const workspacesMainFields = [workspacesConfig.packageEntry, 'main'];\n+  const mainFields =\n+    isEnvDevelopment && workspacesConfig.development\n+      ? workspacesMainFields\n+      : isEnvProduction && workspacesConfig.production\n+        ? workspacesMainFields\n+        : undefined;\n+\n  // Webpack uses \\`publicPath\\` to determine where the app is being served from.\n  // It requires a trailing slash, or the file assets will get an incorrect path.\n  // In development, we always serve from the root. This makes config easier.\n@@ -279,6 +282,7 @@ module.exports = function(webpackEnv) {\n      extensions: paths.moduleFileExtensions\n        .map(ext => \\`.\\${ext}\\`)\n        .filter(ext => useTypeScript || !ext.includes('ts')),\n+      mainFields,\n      alias: {\n        // Support React Native Web\n        // https://www.smashingmagazine.com/2016/08/a-glimpse-into-the-future-with-react-native-for-web/\n@@ -330,7 +335,11 @@ module.exports = function(webpackEnv) {\n              loader: require.resolve('eslint-loader'),\n            },\n          ],\n-          include: paths.appSrc,\n+          include: isEnvDevelopment && workspacesConfig.development\n+          ? [paths.appSrc, workspacesConfig.paths]\n+          : isEnvProduction && workspacesConfig.production\n+            ? [paths.appSrc, workspacesConfig.paths]\n+            : paths.appSrc,\n        },\n        {\n          // \"oneOf\" will traverse all following loaders until one will\n@@ -352,7 +361,12 @@ module.exports = function(webpackEnv) {\n            // The preset includes JSX, Flow, TypeScript, and some ESnext features.\n            {\n              test: /\\\\.(js|mjs|jsx|ts|tsx)$/,\n-              include: paths.appSrc,\n+              include:\n+                isEnvDevelopment && workspacesConfig.development\n+                  ? [paths.appSrc, workspacesConfig.paths]\n+                  : isEnvProduction && workspacesConfig.production\n+                    ? [paths.appSrc, workspacesConfig.paths]\n+                    : paths.appSrc,\n              loader: require.resolve('babel-loader'),\n              options: {\n                customize: require.resolve(\n`}</code></pre>\n\n    </MDXLayout>;\n}\n\n;\nMDXContent.isMDXComponent = true;"}}